---
# defaults file for filebeat
filebeat:
  version: 6.x
  endpoint: logstash # lostash or escloud
  escloud:
    host: ""
    cloud_id: ""
    cloud_auth: ""
  logstash:
    endpoint: ""     # Hostname and IP e.g. my.logstash.server:12345, usually defined in secrets
    client_cert: ""
    client_key: ""
    ca_cert: ""
  # default groups of files to watch and rules for their (not)shipping
  log_files:
    - group: "basic"
      paths:
        - /var/log/messages
        - /var/log/secure
    - group: "maillog"
      paths:   
        - /var/log/maillog
      include: # if include is defined, filebeat will ship only lines that match rules
        - '(?i)err' 
        - '(?i)warn'
        - '(?i)bounce'
    - group: "monit"
      reqservice: "monit" 
      paths:   
        - /var/log/monit.log
      include: 
        - '(?i)error' 
    - group: "drupal-php"
      reqservice: "php-fpm" # if reqservice is defined, filebeat will ship logs only if this service running
      paths: 
      - /var/log/drupal.log
      - /var/log/php-fpm/*.log
      exclude: 
        - "(?i)notice"


# to add extra inputs, define additional filebeat.log_files entries in playbooks
# or add
# filebeat.custom_inputs_block with syntax described in url 
# https://www.elastic.co/guide/en/beats/filebeat/master/filebeat-input-log.html
# example -
# filebeat:
#   custom_inputs_block: | 
#         - type: log
#           paths:
#             - /my/custom/path/1
#             - /my/custom/path/2
#           include_lines: ['string1','string2']
#           exclude_lines: ['string1','string2']
#           fields:
#             log_type: syslog
#           fields_under_root: true
